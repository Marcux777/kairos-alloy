[run]
run_id = "btc_usdt_1min_2024q1"
symbol = "BTC-USDT"
timeframe = "1min"
initial_capital = 10000.0

[db]
url = "postgres://kairos:secret@db:5432/kairos"
ohlcv_table = "ohlcv_candles"
exchange = "kucoin"
market = "spot"
# Optional: if your DB stores a smaller timeframe (e.g. "1min") but you want to run at "5min",
# set this to the stored timeframe and Kairos Alloy will resample to `run.timeframe`.
# source_timeframe = "1min"

[paths]
out_dir = "runs/"

[costs]
fee_bps = 10.0
slippage_bps = 5.0

[risk]
max_position_qty = 1.0
max_drawdown_pct = 0.30
max_exposure_pct = 1.00

[orders]
# "qty" | "pct_equity"
size_mode = "qty"

[execution]
# "simple" | "complete"
model = "complete"
latency_bars = 1
buy_kind = "market"
sell_kind = "market"
price_reference = "close"
limit_offset_bps = 10.0
stop_offset_bps = 10.0
spread_bps = 0.0
max_fill_pct_of_volume = 0.25
# "gtc" | "ioc" | "fok"
tif = "gtc"
# expire_after_bars = 3

[features]
return_mode = "log"
sma_windows = [10, 50]
volatility_windows = [10]
rsi_enabled = false
sentiment_lag = "5m"
# "error" | "zero_fill" | "forward_fill" | "drop_row"
sentiment_missing = "error"

[strategy]
baseline = "buy_and_hold"
sma_short = 10
sma_long = 50

[metrics]
risk_free_rate = 0.0
annualization_factor = 365.0

[agent]
mode = "baseline"
url = "http://127.0.0.1:8000"
timeout_ms = 200
retries = 1
fallback_action = "HOLD"
api_version = "v1"
feature_version = "v1"

[data_quality]
max_gaps = 0
max_duplicates = 0
max_out_of_order = 0
max_invalid_close = 0
max_sentiment_missing = 0
max_sentiment_invalid = 0
max_sentiment_dropped = 0

[paper]
replay_scale = 60

[report]
html = false
